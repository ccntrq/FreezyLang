<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>FreezyParser</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_FreezyParser.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">Freezy-0.0.0: A simple interpreted programming language implemented in
Haskell.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">FreezyParser</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Parser Types </a></li><li><a href="#g:2">Main Parser Logic </a></li><li><a href="#g:3">Parsing Primitives </a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>FreezyParser - A Parser for FreezyLang </p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:Parser">Parser</a> a = <a href="file:///usr/share/doc/haskell-mtl/html/Control-Monad-Except.html#t:ExceptT">ExceptT</a> <a href="FreezyParser.html#t:ParserError">ParserError</a> (<a href="file:///usr/share/doc/haskell-mtl/html/Control-Monad-State-Lazy.html#t:StateT">StateT</a> <a href="FreezyParser.html#t:ParserState">ParserState</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.9.1.0/Data-Functor-Identity.html#t:Identity">Identity</a>) a</li><li class="src short"><a href="#v:runParser">runParser</a> :: <a href="FreezyParser.html#t:ParserState">ParserState</a> -&gt; <a href="FreezyParser.html#t:Parser">Parser</a> a -&gt; (<a href="file:///usr/share/doc/ghc/html/libraries/base-4.9.1.0/Data-Either.html#t:Either">Either</a> <a href="FreezyParser.html#t:ParserError">ParserError</a> a, <a href="FreezyParser.html#t:ParserState">ParserState</a>)</li><li class="src short"><span class="keyword">data</span> <a href="#t:ParserState">ParserState</a> = <a href="#v:ParserState">ParserState</a> {<ul class="subs"><li><a href="#v:tokens">tokens</a> :: [<a href="FreezyLang.html#t:Token">Token</a>]</li><li><a href="#v:previousTokens">previousTokens</a> :: [<a href="FreezyLang.html#t:Token">Token</a>]</li></ul>}</li><li class="src short"><a href="#v:initParserState">initParserState</a> :: [<a href="FreezyLang.html#t:Token">Token</a>] -&gt; <a href="FreezyParser.html#t:ParserState">ParserState</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:ParserError">ParserError</a> = <a href="#v:ParserError">ParserError</a> {<ul class="subs"><li><a href="#v:reason">reason</a> :: <a href="file:///usr/share/doc/ghc/html/libraries/base-4.9.1.0/Data-String.html#t:String">String</a></li><li><a href="#v:e_line">e_line</a> :: <a href="file:///usr/share/doc/ghc/html/libraries/base-4.9.1.0/Data-Int.html#t:Int">Int</a></li></ul>}</li><li class="src short"><a href="#v:expression">expression</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Expr">Expr</a></li><li class="src short"><a href="#v:concatenation">concatenation</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Expr">Expr</a></li><li class="src short"><a href="#v:equality">equality</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Expr">Expr</a></li><li class="src short"><a href="#v:comparison">comparison</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Expr">Expr</a></li><li class="src short"><a href="#v:term">term</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Expr">Expr</a></li><li class="src short"><a href="#v:factor">factor</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Expr">Expr</a></li><li class="src short"><a href="#v:unary">unary</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Expr">Expr</a></li><li class="src short"><a href="#v:ifExpr">ifExpr</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Expr">Expr</a></li><li class="src short"><a href="#v:assignment">assignment</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Expr">Expr</a></li><li class="src short"><a href="#v:printExpr">printExpr</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Expr">Expr</a></li><li class="src short"><a href="#v:primary">primary</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Expr">Expr</a></li><li class="src short"><a href="#v:binaryParser">binaryParser</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Expr">Expr</a> -&gt; [<a href="FreezyLang.html#t:TokenType">TokenType</a>] -&gt; <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Expr">Expr</a></li><li class="src short"><a href="#v:isAtEnd">isAtEnd</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:advance">advance</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Token">Token</a></li><li class="src short"><a href="#v:match">match</a> :: [<a href="FreezyLang.html#t:TokenType">TokenType</a>] -&gt; <a href="FreezyParser.html#t:Parser">Parser</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:check">check</a> :: <a href="FreezyLang.html#t:TokenType">TokenType</a> -&gt; <a href="FreezyParser.html#t:Parser">Parser</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:consume">consume</a> :: <a href="FreezyLang.html#t:TokenType">TokenType</a> -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Token">Token</a></li><li class="src short"><a href="#v:peek">peek</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Token">Token</a></li><li class="src short"><a href="#v:previous">previous</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Token">Token</a></li></ul></div><div id="interface"><h1 id="g:1">Parser Types </h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Parser" class="def">Parser</a> a = <a href="file:///usr/share/doc/haskell-mtl/html/Control-Monad-Except.html#t:ExceptT">ExceptT</a> <a href="FreezyParser.html#t:ParserError">ParserError</a> (<a href="file:///usr/share/doc/haskell-mtl/html/Control-Monad-State-Lazy.html#t:StateT">StateT</a> <a href="FreezyParser.html#t:ParserState">ParserState</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.9.1.0/Data-Functor-Identity.html#t:Identity">Identity</a>) a <a href="#t:Parser" class="selflink">#</a></p><div class="doc"><p>Parser Monad</p></div></div><div class="top"><p class="src"><a id="v:runParser" class="def">runParser</a> :: <a href="FreezyParser.html#t:ParserState">ParserState</a> -&gt; <a href="FreezyParser.html#t:Parser">Parser</a> a -&gt; (<a href="file:///usr/share/doc/ghc/html/libraries/base-4.9.1.0/Data-Either.html#t:Either">Either</a> <a href="FreezyParser.html#t:ParserError">ParserError</a> a, <a href="FreezyParser.html#t:ParserState">ParserState</a>) <a href="#v:runParser" class="selflink">#</a></p><div class="doc"><p>Unwrapping of the monad stack</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ParserState" class="def">ParserState</a> <a href="#t:ParserState" class="selflink">#</a></p><div class="doc"><p>State of the parser</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ParserState" class="def">ParserState</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:tokens" class="def">tokens</a> :: [<a href="FreezyLang.html#t:Token">Token</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:previousTokens" class="def">previousTokens</a> :: [<a href="FreezyLang.html#t:Token">Token</a>]</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:ParserState" class="caption collapser" onclick="toggleSection('i:ParserState')">Instances</p><div id="section.i:ParserState" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:ParserState:Show:1" class="instance expander" onclick="toggleSection('i:id:ParserState:Show:1')"></span> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.9.1.0/Text-Show.html#t:Show">Show</a> <a href="FreezyParser.html#t:ParserState">ParserState</a></span> <a href="#t:ParserState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:ParserState:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///usr/share/doc/ghc/html/libraries/base-4.9.1.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="FreezyParser.html#t:ParserState">ParserState</a> -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.9.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="FreezyParser.html#t:ParserState">ParserState</a> -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.9.1.0/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="FreezyParser.html#t:ParserState">ParserState</a>] -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.9.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:initParserState" class="def">initParserState</a> :: [<a href="FreezyLang.html#t:Token">Token</a>] -&gt; <a href="FreezyParser.html#t:ParserState">ParserState</a> <a href="#v:initParserState" class="selflink">#</a></p><div class="doc"><p>Initiate the parse state with a list of tokens</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ParserError" class="def">ParserError</a> <a href="#t:ParserError" class="selflink">#</a></p><div class="doc"><p>Type for parser errors</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ParserError" class="def">ParserError</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:reason" class="def">reason</a> :: <a href="file:///usr/share/doc/ghc/html/libraries/base-4.9.1.0/Data-String.html#t:String">String</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:e_line" class="def">e_line</a> :: <a href="file:///usr/share/doc/ghc/html/libraries/base-4.9.1.0/Data-Int.html#t:Int">Int</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:ParserError" class="caption collapser" onclick="toggleSection('i:ParserError')">Instances</p><div id="section.i:ParserError" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:ParserError:Show:1" class="instance expander" onclick="toggleSection('i:id:ParserError:Show:1')"></span> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.9.1.0/Text-Show.html#t:Show">Show</a> <a href="FreezyParser.html#t:ParserError">ParserError</a></span> <a href="#t:ParserError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:ParserError:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///usr/share/doc/ghc/html/libraries/base-4.9.1.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="FreezyParser.html#t:ParserError">ParserError</a> -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.9.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="FreezyParser.html#t:ParserError">ParserError</a> -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.9.1.0/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="FreezyParser.html#t:ParserError">ParserError</a>] -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.9.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><h1 id="g:2">Main Parser Logic </h1><div class="top"><p class="src"><a id="v:expression" class="def">expression</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Expr">Expr</a> <a href="#v:expression" class="selflink">#</a></p><div class="doc"><p>Entry point to the recursive descent expression parser</p></div></div><div class="top"><p class="src"><a id="v:concatenation" class="def">concatenation</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Expr">Expr</a> <a href="#v:concatenation" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:equality" class="def">equality</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Expr">Expr</a> <a href="#v:equality" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:comparison" class="def">comparison</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Expr">Expr</a> <a href="#v:comparison" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:term" class="def">term</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Expr">Expr</a> <a href="#v:term" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:factor" class="def">factor</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Expr">Expr</a> <a href="#v:factor" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:unary" class="def">unary</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Expr">Expr</a> <a href="#v:unary" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ifExpr" class="def">ifExpr</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Expr">Expr</a> <a href="#v:ifExpr" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:assignment" class="def">assignment</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Expr">Expr</a> <a href="#v:assignment" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:printExpr" class="def">printExpr</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Expr">Expr</a> <a href="#v:printExpr" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:primary" class="def">primary</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Expr">Expr</a> <a href="#v:primary" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:binaryParser" class="def">binaryParser</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Expr">Expr</a> -&gt; [<a href="FreezyLang.html#t:TokenType">TokenType</a>] -&gt; <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Expr">Expr</a> <a href="#v:binaryParser" class="selflink">#</a></p><div class="doc"><p>generate a Binary parser for the given operators </p></div></div><h1 id="g:3">Parsing Primitives </h1><div class="top"><p class="src"><a id="v:isAtEnd" class="def">isAtEnd</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:isAtEnd" class="selflink">#</a></p><div class="doc"><p>check if we are at the end</p></div></div><div class="top"><p class="src"><a id="v:advance" class="def">advance</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Token">Token</a> <a href="#v:advance" class="selflink">#</a></p><div class="doc"><p>advance the state by one token</p></div></div><div class="top"><p class="src"><a id="v:match" class="def">match</a> :: [<a href="FreezyLang.html#t:TokenType">TokenType</a>] -&gt; <a href="FreezyParser.html#t:Parser">Parser</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:match" class="selflink">#</a></p><div class="doc"><p>advance if the current token matches any of the given TokenTypes</p></div></div><div class="top"><p class="src"><a id="v:check" class="def">check</a> :: <a href="FreezyLang.html#t:TokenType">TokenType</a> -&gt; <a href="FreezyParser.html#t:Parser">Parser</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:check" class="selflink">#</a></p><div class="doc"><p>check if the current token matches the given TokenType</p></div></div><div class="top"><p class="src"><a id="v:consume" class="def">consume</a> :: <a href="FreezyLang.html#t:TokenType">TokenType</a> -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Token">Token</a> <a href="#v:consume" class="selflink">#</a></p><div class="doc"><p>consume the current token if it matches the given TokenType or throw an error</p></div></div><div class="top"><p class="src"><a id="v:peek" class="def">peek</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Token">Token</a> <a href="#v:peek" class="selflink">#</a></p><div class="doc"><p>returns the current token</p></div></div><div class="top"><p class="src"><a id="v:previous" class="def">previous</a> :: <a href="FreezyParser.html#t:Parser">Parser</a> <a href="FreezyLang.html#t:Token">Token</a> <a href="#v:previous" class="selflink">#</a></p><div class="doc"><p>returns the previous token</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>